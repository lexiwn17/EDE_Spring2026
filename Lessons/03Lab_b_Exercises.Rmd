---
title: "Lab 3b - Exercises"
author: "Environmental Data Analytics | John Fay and Luana Lima "
date: "Spring 2026"
output: pdf_document
editor_options: 
  chunk_output_type: console
---

## Set up the session
- Load packaged: tidyverse, lubridate, & here
- Import the `EPAair_PM25_NC2019_raw.csv` file
  - Set strings to be read in as factors
  - Set the "Site.ID" column to be read in as a factor
- Set the date column to be a date

```{r Setup}
#Import packages
library(tidyverse); library(lubridate); library(here)

#Check workspace
here()

#Import data
pm25 <- read.csv(here('Data','Raw','EPAair_PM25_NC2019_raw.csv'),
  stringsAsFactors = TRUE,
  colClasses = c("Site.ID"='factor')
)

#Fix the date
pm25$Date <- mdy(pm25$Date)

```


## Explore properties of the dataframe
-   How many different sites are included in the data set?
-   What is the mean daily PM2.5 concentration?
-   In what units of are PM 2.5 concentrations reported?

```{r Explore the data}
# Compute the number of different sites
summary(pm25)
#Site.ID is a factor w 25 level, so 25 unique sites

# Compute the mean and median PM 2.5 concentration
#mean 7.684 and median 7.4, from Summary

# What are the units
#ug/m^3, from Summary


# What is the date range (min and max dates)
#Jan 1 2019 - Dec 31 2019

```


## Plot distribution of values

-   Number of samples using each different source 
-   Distribution of daily mean concentration values
-   Distribution of daily mean concentration, by source*
  *   There are multiple ways to visualize this...

```{r Visualize the data}
#Number of samples using each different source
samples <- ggplot(data = pm25, aes(x = Site.ID)) +
  geom_bar()
plot(samples)


#Distribution of daily mean concentration values
mean_conc <- ggplot(pm25) +
  geom_boxplot(aes(x = Site.ID, y = Daily.Mean.PM2.5.Concentration))
plot(mean_conc)


#Distribution of daily mean concentration, by source
mean_conc_source <- ggplot(pm25) + geom_freqpoly(aes(x = Daily.Mean.PM2.5.Concentration, color = Site.ID))
plot(mean_conc_source)


```

